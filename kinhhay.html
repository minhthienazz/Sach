<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Thư Viện Kinh Phật</title>
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root{--gold:#c9974a;--gold2:#f0c060;--gold3:#fde68a;--dark:#060410;--dark2:#0f0a1e;--card:#120d22;--cream:#fff8ee;--border:rgba(201,151,74,.28);--c1:#c9974a;--c2:#a78bfa;--c3:#34d399;}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{min-height:100vh;background:var(--dark);color:var(--cream);font-family:'Inter',sans-serif;overflow-x:hidden}
#particles{position:fixed;inset:0;z-index:0;pointer-events:none}
.hero{position:relative;z-index:1;text-align:center;padding:56px 20px 40px}
.mandala-wrap{position:relative;display:inline-block;margin-bottom:22px}
.mandala{width:100px;height:100px;animation:spin 20s linear infinite}
.buddha-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem}
@keyframes spin{to{transform:rotate(360deg)}}
.hero-badge{display:inline-block;background:rgba(201,151,74,.12);border:1px solid rgba(201,151,74,.4);color:var(--gold2);padding:5px 18px;border-radius:20px;font-size:.72rem;letter-spacing:.15em;text-transform:uppercase;margin-bottom:16px}
.hero-title{font-family:'EB Garamond',serif;font-size:clamp(1.8rem,4.5vw,3rem);font-weight:600;background:linear-gradient(135deg,var(--gold),var(--gold2),var(--gold3));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2;margin-bottom:12px}
.hero-sub{font-size:.88rem;color:rgba(255,248,238,.45);max-width:480px;margin:0 auto;line-height:1.7}
.hero-count{display:inline-block;margin-top:14px;background:rgba(201,151,74,.1);border:1px solid rgba(201,151,74,.3);color:var(--gold);padding:4px 16px;border-radius:20px;font-size:.75rem}
.divider{display:flex;align-items:center;gap:14px;justify-content:center;margin:28px auto 0;max-width:300px}
.divider-line{flex:1;height:1px;background:linear-gradient(90deg,transparent,rgba(201,151,74,.4),transparent)}
.divider-lotus{color:#e8b4b8;font-size:1rem}
.tabs-wrap{position:relative;z-index:1;padding:28px 20px 0;max-width:900px;margin:0 auto}
.tabs{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
.tab-btn{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);color:rgba(255,248,238,.45);padding:9px 18px;border-radius:30px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .3s;font-family:inherit;white-space:nowrap}
.tab-btn:hover{background:rgba(255,255,255,.08);color:rgba(255,248,238,.75)}
.tab-btn.active[data-cat='all']{background:rgba(201,151,74,.18);border-color:rgba(201,151,74,.6);color:var(--gold2)}
.tab-btn.active[data-cat='kinh']{background:rgba(201,151,74,.18);border-color:var(--c1);color:var(--c1)}
.tab-btn.active[data-cat='chu']{background:rgba(167,139,250,.15);border-color:var(--c2);color:var(--c2)}
.tab-btn.active[data-cat='tuhoc']{background:rgba(52,211,153,.12);border-color:var(--c3);color:var(--c3)}
.tab-icon{font-size:.9rem}
.tab-count{padding:1px 8px;border-radius:10px;font-size:.7rem;background:rgba(255,255,255,.08)}
.tab-btn.active .tab-count{background:rgba(255,255,255,.18)}
.grid-section{position:relative;z-index:1;padding:24px 20px 80px;max-width:1200px;margin:0 auto}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;transition:opacity .2s}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:26px 20px 22px;cursor:pointer;transition:transform .35s cubic-bezier(.34,1.4,.64,1),box-shadow .35s,border-color .35s;position:relative;overflow:hidden;display:flex;flex-direction:column;align-items:center;text-align:center;gap:11px}
.card::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 50% 0%,rgba(255,255,255,.04),transparent 60%);opacity:0;transition:opacity .35s}
.card:hover{transform:translateY(-7px) scale(1.02);box-shadow:0 18px 45px rgba(0,0,0,.5)}
.card:hover::before{opacity:1}
.cat-kinh:hover{border-color:rgba(201,151,74,.7);box-shadow:0 18px 45px rgba(0,0,0,.5),0 0 25px rgba(201,151,74,.12)}
.cat-chu:hover{border-color:rgba(167,139,250,.6);box-shadow:0 18px 45px rgba(0,0,0,.5),0 0 25px rgba(167,139,250,.1)}
.cat-tuhoc:hover{border-color:rgba(52,211,153,.5);box-shadow:0 18px 45px rgba(0,0,0,.5),0 0 25px rgba(52,211,153,.08)}
.card-cat-bar{position:absolute;top:0;left:0;right:0;height:2px;border-radius:16px 16px 0 0}
.cat-kinh .card-cat-bar{background:linear-gradient(90deg,var(--c1),var(--gold2))}
.cat-chu .card-cat-bar{background:linear-gradient(90deg,var(--c2),#c4b5fd)}
.cat-tuhoc .card-cat-bar{background:linear-gradient(90deg,var(--c3),#6ee7b7)}
.card-num{position:absolute;top:14px;right:14px;font-size:.65rem;color:rgba(255,248,238,.2);letter-spacing:.1em;font-weight:600}
.card-icon-wrap{width:66px;height:66px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;flex-shrink:0;transition:transform .35s,box-shadow .35s;position:relative;z-index:1;border:1px solid rgba(255,255,255,.08)}
.cat-kinh .card-icon-wrap{background:linear-gradient(135deg,rgba(201,151,74,.2),rgba(240,192,96,.1))}
.cat-chu .card-icon-wrap{background:linear-gradient(135deg,rgba(167,139,250,.2),rgba(196,181,253,.1))}
.cat-tuhoc .card-icon-wrap{background:linear-gradient(135deg,rgba(52,211,153,.15),rgba(110,231,183,.08))}
.card:hover .card-icon-wrap{transform:scale(1.1)}
.cat-kinh:hover .card-icon-wrap{box-shadow:0 0 22px rgba(201,151,74,.3)}
.cat-chu:hover .card-icon-wrap{box-shadow:0 0 22px rgba(167,139,250,.3)}
.cat-tuhoc:hover .card-icon-wrap{box-shadow:0 0 22px rgba(52,211,153,.25)}
.card-cat-label{font-size:.63rem;letter-spacing:.1em;text-transform:uppercase;position:relative;z-index:1;font-weight:600}
.cat-kinh .card-cat-label{color:rgba(201,151,74,.65)}
.cat-chu .card-cat-label{color:rgba(167,139,250,.65)}
.cat-tuhoc .card-cat-label{color:rgba(52,211,153,.65)}
.card-title{font-family:'EB Garamond',serif;font-size:1.1rem;font-weight:600;line-height:1.3;position:relative;z-index:1}
.cat-kinh .card-title{color:var(--gold2)}
.cat-chu .card-title{color:#c4b5fd}
.cat-tuhoc .card-title{color:#6ee7b7}
.card-sub{font-size:.7rem;color:rgba(255,248,238,.35);letter-spacing:.05em;position:relative;z-index:1}
.card-desc{font-size:.79rem;color:rgba(255,248,238,.5);line-height:1.6;position:relative;z-index:1}
.card-btn{margin-top:4px;padding:8px 20px;border-radius:24px;font-size:.78rem;font-weight:500;cursor:pointer;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:rgba(255,248,238,.6);transition:all .25s;position:relative;z-index:1;font-family:inherit;pointer-events:none}
.cat-kinh:hover .card-btn{background:rgba(201,151,74,.2);border-color:rgba(201,151,74,.5);color:var(--gold2)}
.cat-chu:hover .card-btn{background:rgba(167,139,250,.15);border-color:rgba(167,139,250,.4);color:#c4b5fd}
.cat-tuhoc:hover .card-btn{background:rgba(52,211,153,.12);border-color:rgba(52,211,153,.4);color:#6ee7b7}
@keyframes shimmer{0%{left:-100%}100%{left:200%}}
.card::after{content:'';position:absolute;top:0;left:-100%;width:40%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.03),transparent);transform:skewX(-20deg);animation:shimmer 5s 1s infinite}
.card.hidden{display:none}
.modal{position:fixed;inset:0;z-index:100;display:flex;flex-direction:column;opacity:0;pointer-events:none;transition:opacity .35s ease}
.modal.open{opacity:1;pointer-events:all}
.modal-bg{position:absolute;inset:0;background:rgba(4,2,14,.92);backdrop-filter:blur(10px)}
.modal-inner{position:relative;z-index:1;display:flex;flex-direction:column;width:100%;height:100%}
.modal-bar{flex-shrink:0;height:58px;background:linear-gradient(135deg,#080614,#120a24);border-bottom:1px solid rgba(201,151,74,.2);display:flex;align-items:center;justify-content:space-between;padding:0 20px;gap:12px;position:relative}
.modal-bar::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(201,151,74,.45),transparent)}
.modal-title-wrap{display:flex;align-items:center;gap:10px;overflow:hidden}
.modal-icon{font-size:1.2rem;flex-shrink:0}
.modal-title{font-family:'EB Garamond',serif;font-size:1.1rem;color:var(--gold2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.close-btn{display:flex;align-items:center;gap:7px;background:rgba(201,151,74,.1);border:1px solid rgba(201,151,74,.35);color:var(--gold2);padding:8px 18px;border-radius:24px;font-size:.82rem;cursor:pointer;transition:all .25s;font-family:inherit;flex-shrink:0;white-space:nowrap}
.close-btn:hover{background:rgba(201,151,74,.25);box-shadow:0 0 14px rgba(201,151,74,.2)}
.modal-viewer{flex:1;position:relative;overflow:hidden}
.modal-viewer iframe{position:absolute;inset:0;width:100%;height:100%;border:none}
.modal-loading{position:absolute;inset:0;background:var(--dark2);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;transition:opacity .5s;z-index:2}
.modal-loading.gone{opacity:0;pointer-events:none}
.ml-icon{font-size:3.2rem;animation:float2 2s ease-in-out infinite}
@keyframes float2{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.ml-text{font-family:'EB Garamond',serif;font-size:1.1rem;color:var(--gold)}
.ml-sub{font-size:.76rem;color:rgba(255,248,238,.3)}
.ml-bar{width:160px;height:2px;background:rgba(255,255,255,.08);border-radius:2px;margin-top:14px;overflow:hidden}
.ml-fill{height:100%;background:linear-gradient(90deg,var(--gold),var(--gold2));animation:prog 2.5s forwards}
@keyframes prog{0%{width:0}100%{width:100%}}
footer{position:relative;z-index:1;text-align:center;padding:28px 20px;border-top:1px solid rgba(201,151,74,.1);font-size:.76rem;color:rgba(255,248,238,.22);line-height:1.9}
@media(max-width:640px){.hero{padding:42px 16px 30px}.grid{grid-template-columns:repeat(2,1fr);gap:12px}.card{padding:18px 12px 16px;gap:9px}.card-desc{display:none}.card-icon-wrap{width:54px;height:54px;font-size:1.5rem}.card-title{font-size:.95rem}.tabs{gap:6px}.tab-btn{padding:7px 12px;font-size:.74rem}}
@media(max-width:360px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<canvas id="particles"></canvas>
<section class="hero">
  <div class="hero-badge">&#9675; Nam Mô A Di Đà Phật &#9675;</div>
  <div class="mandala-wrap">
    <svg class="mandala" viewBox="0 0 110 110" fill="none">
      <circle cx="55" cy="55" r="52" stroke="rgba(201,151,74,0.22)" stroke-width="1"/>
      <circle cx="55" cy="55" r="42" stroke="rgba(201,151,74,0.18)" stroke-width="1" stroke-dasharray="5 4"/>
      <circle cx="55" cy="55" r="32" stroke="rgba(201,151,74,0.28)" stroke-width="1"/>
      <circle cx="55" cy="55" r="22" stroke="rgba(240,192,96,0.2)" stroke-width="1" stroke-dasharray="3 3"/>
      <g stroke="rgba(201,151,74,0.18)" stroke-width="1">
        <line x1="55" y1="3" x2="55" y2="107"/><line x1="3" y1="55" x2="107" y2="55"/>
        <line x1="17" y1="17" x2="93" y2="93"/><line x1="93" y1="17" x2="17" y2="93"/>
      </g>
      <g fill="rgba(201,151,74,0.5)">
        <circle cx="55" cy="3" r="2.5"/><circle cx="55" cy="107" r="2.5"/>
        <circle cx="3" cy="55" r="2.5"/><circle cx="107" cy="55" r="2.5"/>
        <circle cx="17" cy="17" r="2"/><circle cx="93" cy="93" r="2"/>
        <circle cx="93" cy="17" r="2"/><circle cx="17" cy="93" r="2"/>
      </g>
    </svg>
    <div class="buddha-icon">&#9654;&#65038;</div>
  </div>
  <h1 class="hero-title">Thư Viện Kinh Phật</h1>
  <p class="hero-sub">Tổng hợp kinh điển, thần chú và giáo lý Phật giáo chọn bài kinh và cùng hành trì trong bình an.</p>
  <span class="hero-count">&#128218; 12 bài kinh và nghi thức</span>
  <div class="divider"><div class="divider-line"></div><div class="divider-lotus">&#10047;</div><div class="divider-line"></div></div>
</section>
<div class="tabs-wrap">
  <div class="tabs">
    <button class="tab-btn active" data-cat="all" id="tab-all" onclick="filterCards('all')"><span class="tab-icon">&#9632;</span> Tất Cả <span class="tab-count">12</span></button>
    <button class="tab-btn" data-cat="kinh" id="tab-kinh" onclick="filterCards('kinh')"><span class="tab-icon">&#9784;</span> Kinh Điển <span class="tab-count">4</span></button>
    <button class="tab-btn" data-cat="chu" id="tab-chu" onclick="filterCards('chu')"><span class="tab-icon">&#10024;</span> Chú &amp; Nghi Thức <span class="tab-count">4</span></button>
    <button class="tab-btn" data-cat="tuhoc" id="tab-tuhoc" onclick="filterCards('tuhoc')"><span class="tab-icon">&#9998;</span> Tu Học Hằng Ngày <span class="tab-count">4</span></button>
  </div>
</div>
<section class="grid-section"><div class="grid" id="grid"></div></section>
<footer>
  <div>&#128175; Nam Mô Bổn Sư Thích Ca Mâu Ni Phật &#128175;</div>
  <div>Nam Mô Địa Tạng Vương Bồ Tát Ma Ha Tát &#10047;</div>
  <div style="margin-top:8px">Nguồn: internet - tạo bởi Ng~ Minh Thiện.</div>
</footer>
<div class="modal" id="modal">
  <div class="modal-bg" id="modalBg"></div>
  <div class="modal-inner">
    <div class="modal-bar">
      <div class="modal-title-wrap">
        <span class="modal-icon" id="modalIcon"></span>
        <span class="modal-title" id="modalTitle"></span>
      </div>
      <button class="close-btn" onclick="closeModal()">&#10005; Đóng sách</button>
    </div>
    <div class="modal-viewer">
      <div class="modal-loading" id="modalLoading">
        <div class="ml-icon">&#128218;</div>
        <div class="ml-text">Đang mở kinh&hellip;</div>
        <div class="ml-sub">Vui lòng chờ trong giây lát</div>
        <div class="ml-bar"><div class="ml-fill" id="ldFill"></div></div>
      </div>
      <iframe id="modalIframe" seamless scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" allow="clipboard-write"></iframe>
    </div>
  </div>
</div>
<script>
var scriptures=[
  {num:"01",cat:"kinh",catLabel:"Kinh Điển",icon:"&#9790;",
   title:"Kinh A Di Đà",sub:"Âm Nghĩa Tiếng Việt",
   desc:"Giới thiệu cõi Cực Lạc và hạnh nguyện niệm Phật cầu vãng sinh an lạc.",
   src:"https://online.fliphtml5.com/rngdy/kinh_a_di_da_am_nghia/"},
  {num:"02",cat:"kinh",catLabel:"Kinh Điển",icon:"&#9775;",
   title:"Kinh Địa Tạng Bồ Tát",sub:"Bổn Nguyện Kinh",
   desc:"Kể về đại nguyện của Địa Tạng Bồ Tát cứu độ chúng sinh thoát khỏi địa ngục.",
   src:"https://heyzine.com/flip-book/80d1bcc77f.html"},
  {num:"03",cat:"kinh",catLabel:"Kinh Điển",icon:"&#10047;",
   title:"Kinh Dược Sư",sub:"Dược Sư Lưu Ly Quang Như Lai",
   desc:"Cầu nguyện Dược Sư chữa lành bệnh khổ và giúp chúng sinh thoát mọi tai ương.",
   src:"https://online.fliphtml5.com/rngdy/kinh_duoc_su/"},
  {num:"04",cat:"kinh",catLabel:"Kinh Điển",icon:"&#9774;",
   title:"Bát Nhã Tâm Kinh",sub:"Ma Ha Bát Nhã Ba La Mật Đa",
   desc:"Kinh ngắn nhất nhưng sâu sắc nhất, diễn tả chân lý vô ngã và tính không.",
   src:"https://heyzine.com/flip-book/49bc06672e.html"},
  {num:"05",cat:"chu",catLabel:"Chú & Nghi Thức",icon:"&#9784;",
   title:"Chú Lăng Nghiêm",sub:"Thủ Lăng Nghiêm Thần Chú",
   desc:"Thần chú quan trọng nhất Phật giáo Đại Thừa, bảo vệ và thanh tịnh tâm thức.",
   src:"https://online.fliphtml5.com/rngdy/chu_lang_nghiem_version_2/"},
  {num:"06",cat:"chu",catLabel:"Chú & Nghi Thức",icon:"&#10024;",
   title:"Bài Chú Đại Bi",sub:"Đại Bi Tâm Đà La Ni",
   desc:"Chú của Bồ Tát Quan Thế Âm, biểu tượng lòng từ bi vô lượng của đức Phật.",
   src:"https://online.fliphtml5.com/rngdy/bai-chu-dai-bi-tieng-viet/"},
  {num:"07",cat:"chu",catLabel:"Chú & Nghi Thức",icon:"&#10022;",
   title:"Nghi Thức Cầu An",sub:"Nghi Lễ Phật Giáo",
   desc:"Lễ cầu an cho bản thân và gia đình, nguyện cầu bình an và phúc lành.",
   src:"https://heyzine.com/flip-book/e1a222fba1.html"},
  {num:"08",cat:"chu",catLabel:"Chú & Nghi Thức",icon:"&#10038;",
   title:"Nghi Thức Trì Chú",sub:"Hành Trì Thần Chú",
   desc:"Hướng dẫn nghi thức trì tụng thần chú đúng pháp, giúp đạt hiệu quả tu tập.",
   src:"https://heyzine.com/flip-book/8276fb05f3.html"},
  {num:"09",cat:"tuhoc",catLabel:"Tu Học Hằng Ngày",icon:"&#9997;",
   title:"Kinh Tụng Hằng Ngày",sub:"Công Phu Hằng Ngày",
   desc:"Tổng hợp các bài kinh tụng sáng tối, giúp gây dựng thiện nghiệp mỗi ngày.",
   src:"https://heyzine.com/flip-book/0a2acd34a6.html"},
  {num:"10",cat:"tuhoc",catLabel:"Tu Học Hằng Ngày",icon:"&#9825;",
   title:"Kinh Sám Hối",sub:"Hồng Danh Sám Hối",
   desc:"Nghiềm sám hối tội lỗi, thanh tịnh tâm ý và phát khởi tâm bồ đề.",
   src:"https://heyzine.com/flip-book/02a1710124.html"},
  {num:"11",cat:"tuhoc",catLabel:"Tu Học Hằng Ngày",icon:"&#10026;",
   title:"Ngũ Giới",sub:"Năm Giới Căn Bản",
   desc:"Năm giới căn bản của người Phật tử tại gia, nền tảng đạo đức Phật giáo.",
   src:"https://heyzine.com/flip-book/1f67364907.html"},
  {num:"12",cat:"tuhoc",catLabel:"Tu Học Hằng Ngày",icon:"&#9776;",
   title:"Lời Dạy Của Đức Phật",sub:"Giáo Lý Căn Bản",
   desc:"Tổng hợp những lời dạy quý báu của đức Phật về cuộc sống và con đường giải thoát.",
   src:"https://heyzine.com/flip-book/06dc35924c.html"}
];

function buildCards(){
  var g=document.getElementById("grid");
  scriptures.forEach(function(s,i){
    var d=document.createElement("div");
    d.className="card cat-"+s.cat;
    d.dataset.cat=s.cat;
    d.onclick=function(){openModal(i);};
    var btnTxt="Đọc Ngay";
    d.innerHTML='<div class="card-cat-bar"></div>'
      +'<div class="card-num">'+s.num+'</div>'
      +'<div class="card-icon-wrap">'+s.icon+'</div>'
      +'<div class="card-cat-label">'+s.catLabel+'</div>'
      +'<div class="card-title">'+s.title+'</div>'
      +'<div class="card-sub">'+s.sub+'</div>'
      +'<div class="card-desc">'+s.desc+'</div>'
      +'<div class="card-btn">&#128214; '+btnTxt+'</div>';
    g.appendChild(d);
  });
}

function filterCards(cat){
  document.querySelectorAll(".tab-btn").forEach(function(b){b.classList.remove("active");});
  document.getElementById("tab-"+cat).classList.add("active");
  var grid=document.getElementById("grid");
  grid.style.opacity="0.2";
  setTimeout(function(){
    document.querySelectorAll(".card").forEach(function(c){
      if(cat==="all"||c.dataset.cat===cat){c.style.display="flex";}else{c.style.display="none";}
    });
    grid.style.opacity="1";
  },200);
}

function openModal(i){
  var s=scriptures[i];
  document.getElementById("modalTitle").textContent=s.title;
  document.getElementById("modalIcon").innerHTML=s.icon;
  var ifr=document.getElementById("modalIframe");ifr.src="";
  var ld=document.getElementById("modalLoading");ld.classList.remove("gone");
  var fill=document.getElementById("ldFill");fill.style.animation="none";void fill.offsetHeight;fill.style.animation="";
  document.getElementById("modal").classList.add("open");
  document.body.style.overflow="hidden";
  setTimeout(function(){ifr.src=s.src;},80);
}

function closeModal(){
  document.getElementById("modal").classList.remove("open");
  document.body.style.overflow="";
  setTimeout(function(){document.getElementById("modalIframe").src="";},400);
}

document.getElementById("modalIframe").addEventListener("load",function(){
  setTimeout(function(){document.getElementById("modalLoading").classList.add("gone");},600);
});
document.getElementById("modalBg").addEventListener("click",closeModal);
document.addEventListener("keydown",function(e){if(e.key==="Escape")closeModal();});

var cv=document.getElementById("particles"),ctx=cv.getContext("2d"),dots=[];
function rsz(){cv.width=window.innerWidth;cv.height=window.innerHeight;}rsz();
window.addEventListener("resize",rsz);
function mk(){return{x:Math.random()*cv.width,y:cv.height+15,r:Math.random()*2.2+0.4,sp:Math.random()*0.55+0.18,op:Math.random()*0.4+0.08,dr:(Math.random()-.5)*.35};}
for(var i=0;i<80;i++){dots.push(mk());dots[i].y=Math.random()*cv.height;}
(function anim(){ctx.clearRect(0,0,cv.width,cv.height);dots.forEach(function(d,i){d.y-=d.sp;d.x+=d.dr;ctx.beginPath();ctx.arc(d.x,d.y,d.r,0,Math.PI*2);ctx.fillStyle="rgba(201,151,74,"+d.op+")";ctx.fill();if(d.y<-8)dots[i]=mk();});requestAnimationFrame(anim);})();
buildCards();
</script>
</body>
</html>